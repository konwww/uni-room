(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-timeTable"],{"10d4":function(t,e,a){"use strict";a.r(e);var n=a("14af"),i=a("262c");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("f515");var r=a("2877"),o=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"1a13d5d8",null);e["default"]=o.exports},"14af":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showPopup?a("v-uni-view",{staticClass:"uni-popup",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e),t.clear(e)}}},[a("uni-transition",{attrs:{"mode-class":["fade"],styles:t.maskClass,show:t.showTrans},on:{click:function(e){e=t.$handleEvent(e),t.onTap(e)}}}),a("uni-transition",{attrs:{"mode-class":t.ani,styles:t.transClass,show:t.showTrans},on:{click:function(e){e=t.$handleEvent(e),t.onTap(e)}}},[a("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.clear(e)}}},[t._t("default")],2)],1)],1):t._e()},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"262c":function(t,e,a){"use strict";a.r(e);var n=a("90cc"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},"43cf":function(t,e,a){"use strict";a.r(e);var n=a("70b0"),i=a("7411");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("d049");var r=a("2877"),o=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"b79b1408",null);e["default"]=o.exports},6036:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n="http://bb.test.com",i={HOST:n,setWeekInfo:s};function s(){for(var t=[],e={},a=1;a<=20;a++)e["label"]="第"+a+"周",e["value"]=a,e["children"]=[{label:"星期一",value:1},{label:"星期二",value:2},{label:"星期三",value:3},{label:"星期四",value:4},{label:"星期五",value:5},{label:"星期六",value:6},{label:"星期日",value:7}],t.push(e),e={};return t}e.default=i},"64b3":function(t,e,a){"use strict";var n=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a481"),a("ac6a");var i=n(a("cebc"));a("c5f6");var s={name:"uniTransition",props:{show:{type:Boolean,default:!1},modeClass:{type:Array,default:function(){return[]}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}}},data:function(){return{isShow:!1,transform:"",ani:{in:"",active:""}}},watch:{show:{handler:function(t){t?this.open():this.close()},immediate:!0}},computed:{stylesObject:function(){var t=(0,i.default)({},this.styles,{"transition-duration":this.duration/1e3+"s"}),e="";for(var a in t){var n=this.toLine(a);e+=n+":"+t[a]+";"}return e}},created:function(){},methods:{change:function(){this.$emit("click",{detail:this.isShow})},open:function(){var t=this;for(var e in this.isShow=!0,this.transform="",this.ani.in="",this.getTranfrom(!1))"opacity"===e?this.ani.in="fade-in":this.transform+="".concat(this.getTranfrom(!1)[e]," ");this.$nextTick(function(){setTimeout(function(){t._animation(!0)},50)})},close:function(t){this._animation(!1)},_animation:function(t){var e=this,a=this.getTranfrom(t);for(var n in this.transform="",a)"opacity"===n?this.ani.in="fade-".concat(t?"out":"in"):this.transform+="".concat(a[n]," ");clearTimeout(this.timer),this.timer=setTimeout(function(){t||(e.isShow=!1),e.$emit("change",{detail:e.isShow})},this.duration)},getTranfrom:function(t){var e={transform:""};return this.modeClass.forEach(function(a){switch(a){case"fade":e.opacity=t?1:0;break;case"slide-top":e.transform+="translateY(".concat(t?"0":"-100%",") ");break;case"slide-right":e.transform+="translateX(".concat(t?"0":"100%",") ");break;case"slide-bottom":e.transform+="translateY(".concat(t?"0":"100%",") ");break;case"slide-left":e.transform+="translateX(".concat(t?"0":"-100%",") ");break;case"zoom-in":e.transform+="scale(".concat(t?1:.8,") ");break;case"zoom-out":e.transform+="scale(".concat(t?1:1.2,") ");break}}),e},_modeClassArr:function(t){var e=this.modeClass;if("string"!==typeof e){var a="";return e.forEach(function(e){a+=e+"-"+t+","}),a.substr(0,a.length-1)}return e+"-"+t},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=s},"6a88":function(t,e,a){"use strict";var n=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("e814"));a("7f7f");var s=n(a("4428")),r=n(a("6036")),o=n(a("10d4")),l=["red","green","blue","orange","olive","cyan","purple","mauve","pink","brown","yellow"],c={components:{wPicker:s.default,uniPopup:o.default},data:function(){return{pickVal:{weekNumAlias:"",startTime:null,endTime:null,weekNum:null,usage:"xxx"},api:{weekTimes:10,cid:3068,limitTime:223e3,location:"A211"},table:[],weekInfo:r.default.setWeekInfo(),weekNumList:[{label:"星期一",value:1},{label:"星期二",value:2},{label:"星期三",value:3},{label:"星期四",value:4},{label:"星期五",value:5},{label:"星期六",value:6},{label:"星期日",value:7}],popup:{mark:!1,msg:!1,alert:!1},msg:{startHeight:0,usage:0,endHeight:0,alert:""}}},methods:{onLoad:function(t){this.api.cid=t.id,this.getTimeTable()},onReady:function(t){},getColor:function(){return f()},renderPicker:function(t){this.$refs[t].show()},setStartTime:function(t){this.$data.pickVal.startTime=t.result},setEndTime:function(t){this.$data.pickVal.endTime=t.result},getTimeTable:function(){var t=this,e=this.$data.api;uni.request({url:r.default.HOST+"/public/get-time-table",data:e,success:function(e){var a=t._data.api.limitTime;a=60*(a/1e4-8-(a/1e4-8)%1)+(a/1e4-8)%1*100,t._data.table=u(e.data.data,(0,i.default)(a))}})},mark:function(){var t=this,e=this.pickVal;e["weekTimes"]=this.api.weekTimes,e["cid"]=this.api.cid,uni.request({url:r.default.HOST+"/public/register",data:e,success:function(e){t.msg.alert=e.data.msg,t.$refs.msg.open()}})},setWeekTimes:function(t){this.$data.api.weekTimes=t.checkArr.value,this.getTimeTable()},setWeekNum:function(t){this.pickVal.weekNum=t.checkArr.value,this.pickVal.weekNumAlias=t.result},togglePopup:function(t,e){this.type=t,this.$refs.mark.open()},toggleMsg:function(t){this.msg=t,this.$refs.marked.open()}}};function u(t,e){var a={1:[],2:[],3:[],4:[],5:[],6:[],7:[]};for(var n in t)switch(t[n].weekNum){case 0:a["1"].push(t[n]);break;case 1:a["2"].push(t[n]);break;case 2:a["3"].push(t[n]);break;case 3:a["4"].push(t[n]);break;case 4:a["5"].push(t[n]);break;case 5:a["6"].push(t[n]);break;case 6:a["7"].push(t[n]);break}for(var s in a){var r=0,o=[];if(0!==a[s].length){for(var l in a[s]){var c=(0,i.default)(a[s][l].startHeight),u=(0,i.default)(a[s][l].endHeight);if(c>0&&c-r-1>0){var d={startHeight:r,endHeight:c,length:c-r,color:f()};o.push(d),o.push(a[s][l])}else o.push(a[s][l]);c,r=u}e-r+1>0&&o.push({startHeight:r,endHeight:e,length:e-r-o.length,color:f()}),a[s]=o}else o.push({startHeight:r,endHeight:e,length:e-r,color:f()}),a[s]=o}return console.log(a),a}function f(){var t=(0,i.default)(10*Math.random());return l[t]}e.default=c},"6fa3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"flex justify-center"},[a("v-uni-button",{staticClass:"cu-btn bg-cyan xs margin",on:{click:function(e){e=t.$handleEvent(e),t.renderPicker("weekTimes")}}},[t._v("第"+t._s(t.api.weekTimes)+"周")])],1),a("v-uni-view",{staticClass:"flex justify-around"},[a("v-uni-view",{staticClass:"margin-xs"},[a("v-uni-text",{staticClass:"text-bold text-xs text-grey"})],1),t._l(["周一","周二","周三","周四","周五","周六","周日"],function(e){return a("v-uni-view",{key:e,staticClass:"margin-xs"},[a("v-uni-text",{staticClass:"text-bold text-grey text-xs"},[t._v(t._s(e))])],1)})],2),a("v-uni-scroll-view",[a("v-uni-view",{staticClass:"flex justify-around"},[a("v-uni-view",{staticClass:"margin-left-sm",staticStyle:{height:"1800upx"}},t._l([8,10,12,14,16,18,20,22],function(e){return a("v-uni-view",{key:e,style:"height:240upx"},[a("v-uni-text",{staticClass:"text-grey text-bold text-xs"},[t._v(t._s(e)+":00")])],1)}),1),t._l(t.table,function(e,n){return a("v-uni-view",{key:n,staticClass:"margin-xs bg-gray",staticStyle:{height:"1680upx",width:"150upx","max-width":"150upx"}},t._l(e,function(e,n){return a("v-uni-view",{key:n,staticClass:"radius flex flex-direction align-center light",class:"bg-"+e.color,staticStyle:{"margin-bottom":"3upx"},style:"height: "+2*e.length+"upx;",on:{click:function(a){a=t.$handleEvent(a),void 0!==e.usage?t.toggleMsg(e):t.togglePopup()}}},[a("v-uni-text",{staticClass:"text-bold text-xs"},[t._v(t._s(8+parseInt(e.startHeight/60)+":"+parseInt(e.startHeight%60/10)+parseInt(e.startHeight%60%10)))]),a("v-uni-text",{staticClass:"text-bold text-xs"},[t._v(t._s(void 0!=e.usage?e.usage:"空闲"))]),a("v-uni-text",{staticClass:"text-bold text-xs"},[t._v(t._s(8+parseInt(e.endHeight/60)+":"+parseInt(e.endHeight%60/10)+parseInt(e.endHeight%60%10)))])],1)}),1)})],2)],1),a("uni-popup",{ref:"mark"},[a("v-uni-view",[a("v-uni-form",[a("v-uni-view",{staticClass:"cu-form-group margin-top"},[a("v-uni-view",{staticClass:"title"},[t._v("地点")]),a("v-uni-input",{staticClass:"text-center",attrs:{placeholder:"用途",value:t.api.location,disabled:"",name:"input"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("第"+t._s(t.api.weekTimes)+"周")]),a("v-uni-input",{attrs:{value:t.pickVal.weekNumAlias,placeholder:"星期N",name:"input"},on:{click:function(e){e=t.$handleEvent(e),t.renderPicker("weekNum")}}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("开始时间")]),a("v-uni-input",{attrs:{value:null==t.pickVal.startTime?"选择时间":t.pickVal.startTime,placeholder:"选择时间",name:"input"},on:{click:function(e){e=t.$handleEvent(e),t.renderPicker("startTime")}}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("结束时间")]),a("v-uni-input",{attrs:{value:null==t.pickVal.endTime?"选择时间":t.pickVal.endTime,placeholder:"选择时间",name:"input"},on:{click:function(e){e=t.$handleEvent(e),t.renderPicker("endTime")}}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("用途")]),a("v-uni-input",{attrs:{placeholder:"用途",name:"input"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-button",{staticClass:"cu-btn",staticStyle:{width:"100%"},on:{click:function(e){e=t.$handleEvent(e),t.mark()}}},[t._v("添加")])],1)],1)],1)],1),a("uni-popup",{ref:"marked"},[a("v-uni-view",{staticClass:"bg-black radius padding flex flex-direction"},[a("v-uni-text",{staticClass:"text-bold text-xs margin-xs"},[t._v("开始时间:"+t._s(8+parseInt(t.msg.startHeight/60)+":"+parseInt(t.msg.startHeight%60/10)+parseInt(t.msg.startHeight%60%10)))]),a("v-uni-text",{staticClass:"text-bold text-xs margin-xs"},[t._v("结束时间:"+t._s(8+parseInt(t.msg.endHeight/60)+":"+parseInt(t.msg.endHeight%60/10)+parseInt(t.msg.endHeight%60%10)))]),a("v-uni-text",{staticClass:"text-bold text-xs margin-xs"},[t._v("用于: "+t._s(t.msg.usage))])],1)],1),a("uni-popup",{ref:"msg"},[a("v-uni-view",{staticClass:"bg-black padding-lg"},[a("v-uni-text",[t._v(t._s(t.msg.alert))])],1)],1),a("v-uni-view",[a("w-picker",{ref:"weekTimes",attrs:{mode:"selector",selectList:t.weekInfo,themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.setWeekTimes(e)}}}),a("w-picker",{ref:"weekNum",attrs:{mode:"selector",selectList:t.weekNumList,themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.setWeekNum(e)}}}),a("w-picker",{ref:"startTime",attrs:{mode:"time",startYear:"2019",step:"10",current:"",themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.setStartTime(e)}}}),a("w-picker",{ref:"endTime",attrs:{mode:"time",startYear:"2019",step:"10",current:"",themeColor:"#f00"},on:{confirm:function(e){e=t.$handleEvent(e),t.setEndTime(e)}}})],1)],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"70b0":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("v-uni-view",{ref:"ani",staticClass:"uni-transition",class:[t.ani.in],style:"transform:"+t.transform+";"+t.stylesObject,on:{click:function(e){e=t.$handleEvent(e),t.change(e)}}},[t._t("default")],2):t._e()},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},7411:function(t,e,a){"use strict";a.r(e);var n=a("64b3"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},"7e1d":function(t,e,a){var n=a("9f65");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("36a79379",n,!0,{sourceMap:!1,shadowMode:!1})},"90cc":function(t,e,a){"use strict";var n=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("43cf")),s={name:"UniPopup",components:{uniTransition:i.default},props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0}},data:function(){return{ani:[],showPopup:!1,showTrans:!1,maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0}}},watch:{type:{handler:function(t){switch(this.type){case"top":this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0};break;case"bottom":this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0};break;case"center":this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"};break}},immediate:!0}},created:function(){},methods:{clear:function(t){t.stopPropagation()},open:function(){var t=this;this.showPopup=!0,this.$nextTick(function(){setTimeout(function(){t.showTrans=!0},50)}),this.$emit("change",{show:!0})},close:function(t){var e=this;this.showTrans=!1,this.$nextTick(function(){clearTimeout(e.timer),e.timer=setTimeout(function(){e.$emit("change",{show:!1}),e.showPopup=!1},300)})},onTap:function(){this.maskClick&&this.close()}}};e.default=s},"994f":function(t,e,a){"use strict";a.r(e);var n=a("6a88"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},"9f65":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".uni-transition[data-v-b79b1408]{-webkit-transition-timing-function:ease;-o-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;-o-transition-property:transform,opacity;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.fade-in[data-v-b79b1408]{opacity:0}.fade-active[data-v-b79b1408]{opacity:1}.slide-top-in[data-v-b79b1408]{\n\t/* transition-property: transform, opacity; */-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}.slide-top-active[data-v-b79b1408]{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)\n\t/* opacity: 1; */}.slide-right-in[data-v-b79b1408]{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%)}.slide-right-active[data-v-b79b1408]{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.slide-bottom-in[data-v-b79b1408]{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%)}.slide-bottom-active[data-v-b79b1408]{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.slide-left-in[data-v-b79b1408]{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%)}.slide-left-active[data-v-b79b1408]{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1}.zoom-in-in[data-v-b79b1408]{-webkit-transform:scale(.8);-ms-transform:scale(.8);transform:scale(.8)}.zoom-out-active[data-v-b79b1408]{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.zoom-out-in[data-v-b79b1408]{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2)}",""])},a7ca:function(t,e,a){var n=a("bf87");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("368d5dbc",n,!0,{sourceMap:!1,shadowMode:!1})},bf87:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".uni-popup[data-v-1a13d5d8]{position:fixed;top:var(--window-top);bottom:0;left:0;right:0;z-index:99}.uni-popup__mask[data-v-1a13d5d8]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);opacity:0}.mask-ani[data-v-1a13d5d8]{-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}.uni-top-mask[data-v-1a13d5d8]{opacity:1}.uni-bottom-mask[data-v-1a13d5d8]{opacity:1}.uni-center-mask[data-v-1a13d5d8]{opacity:1}.uni-popup__wrapper[data-v-1a13d5d8]{display:block;position:absolute}.top[data-v-1a13d5d8]{top:0;left:0;right:0;-webkit-transform:translateY(-500px);-ms-transform:translateY(-500px);transform:translateY(-500px)}.bottom[data-v-1a13d5d8]{bottom:0;left:0;right:0;-webkit-transform:translateY(500px);-ms-transform:translateY(500px);transform:translateY(500px)}.center[data-v-1a13d5d8]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;bottom:0;left:0;right:0;top:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-1a13d5d8]{display:block;position:relative}.content-ani[data-v-1a13d5d8]{-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;-o-transition-property:transform,opacity;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}.uni-top-content[data-v-1a13d5d8]{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.uni-bottom-content[data-v-1a13d5d8]{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.uni-center-content[data-v-1a13d5d8]{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}",""])},c5c7:function(t,e,a){"use strict";a.r(e);var n=a("6fa3"),i=a("994f");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);var r=a("2877"),o=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"09ea8d5e",null);e["default"]=o.exports},d049:function(t,e,a){"use strict";var n=a("7e1d"),i=a.n(n);i.a},f515:function(t,e,a){"use strict";var n=a("a7ca"),i=a.n(n);i.a}}]);